@model Asp_project.Models.Loja

@{
	ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
	<h4>Loja</h4>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.nome_loja)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.nome_loja)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.descicao)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.descicao)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.cpf_cnpj)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.cpf_cnpj)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.telefone)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.telefone)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.celular)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.celular)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.dias_e_horas_de_funcionamento)
		</dt>
		<dd class="col-sm-3">
			@Html.HiddenFor(model => model.dias_e_horas_de_funcionamento)
			<div id="horarios">
			</div>
		</dd>
	</dl>
</div>

<style>
	p {
		margin: 0px;
	}

	#horarios {
		border: 1px solid gray;
		padding: 10px;
	}
</style>

<div class="col-md-6 col-sm-6 col-xs-12">
	<a asp-action="Edit" asp-route-id="@Model.id_loja">
		<input type="submit" value="Editar" class="btn btn-warning col-md-3" />
	</a>
	<a asp-controller="Usuarios" asp-action="Index">
		<input type="button" value="Voltar" class="btn btn-danger col-md-3" />
	</a>
	<a asp-controller="Produto" asp-action="Create" asp-route-id="@Model.id_loja">
		<input type="button" value="Novo Produto" class="btn btn-info col-md-3" />
	</a>
</div>

@section Scripts {
	<script type="text/javascript">
		if ($("#dias_e_horas_de_funcionamento").val() != "") {
			let horarios = $("#dias_e_horas_de_funcionamento").val().split(",")

			for (let horario of horarios) {
				let dia = horario.split(" ")

				$("#horarios").append(`<p>${dia[0]} ${dia[1]} - ${dia[3]}</p>`);
			}
		}
	</script>
}